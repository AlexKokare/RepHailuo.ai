!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="97fbfe65-eb13-40fb-a84a-e05d27e03072",e._sentryDebugIdIdentifier="sentry-dbid-97fbfe65-eb13-40fb-a84a-e05d27e03072")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1962],{12767:function(e,t,l){Promise.resolve().then(l.bind(l,88866))},88866:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return tL}});var n=l(29784),o=l(459),a=l(26314),r=l(64324),i=l(84109),s=l(55446),c=l(1638),u=l(73946),d=l(45968),p=l(36047),m=l(86787),g=l(85777);let f=e=>{let t="web";t=u.tY?d.Dt?"android":"ios":d.wi?"mobile":"pc",g.av({id:(null==e?void 0:e.realUserID)||(null==e?void 0:e.userID)||"unknown"}),g.YA("platform",t)};var x=l(79851),v=l(58454);let h=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),_=()=>{(0,v.Jb)()&&(location.href=v.ft)};var w=()=>{let e=(0,a.I0)(),{t}=(0,i.$G)(),l=async()=>{let e=(0,c.pB)(),t=e&&h(e)?e:(0,r.Z)();if(t){(0,c.vx)(t);let{deviceIDStr:e}=await (0,s.o5)(t);(0,c.Pv)(e)}},o=async()=>{let{userInfo:t}=await (0,s.ts)();if(t){if(t.phone||u.Gh&&t){let l={userID:null==t?void 0:t.userID,realUserID:null==t?void 0:t.realUserID,userName:null==t?void 0:t.name,webAvatar:null==t?void 0:t.avatarInfo};e((0,x.x4)(l))}let{userID:l,realUserID:n}=t;return e((0,x.XR)({userID:l,realUserID:n})),(0,c.$w)(l,n),f(t),!0}},g=async()=>{if(!(0,c.a_)())return _(),!1;try{let{token:e}=await (0,s.Wb)();e&&((0,c.Gs)(e),await o())}catch(e){return(0,c.YC)(),(0,c.j1)(),!1}},v=async()=>{try{let e=new URLSearchParams(location.search),t={};Array.from(null==e?void 0:e.entries()).forEach(e=>{let[l,n]=e;t[l]=n}),w(t)}catch(e){console.error("匿名登陆失败，",e)}},w=async t=>{try{let l=await (0,s.uX)({loginType:s.Ez.LOGINTYPEANONYMOUS,adInfo:t});if(!l)return;e((0,x.x4)(l))}catch(e){console.error("匿名登陆失败，",e)}},b=async()=>{await l(),(0,c.a_)()||u.Gh||await v(),await g()},{getHash:C,addEvent:y,onceEvent:k}=(0,p.H)(),N=(0,n.useRef)(0);return{initUserInfo:b,initMiniProgramUser:()=>{if(d.C0){let e=C();(null==e?void 0:e.uuid)&&(0,c.vx)(null==e?void 0:e.uuid),(null==e?void 0:e.openID)&&(0,c.Ly)(null==e?void 0:e.openID),(null==e?void 0:e.unionID)&&(0,c.Hh)(null==e?void 0:e.unionID),(0,m.Kq)({open_id:null==e?void 0:e.openID,union_id:null==e?void 0:e.unionID}),window.document.title=t("sidebar_hailuo_ai"),e.token?(0,c.Gs)(e.token):(0,c.YC)()}},onMiniProgramOnceEvent:()=>{k(e=>{d.C0&&e.token&&((0,c.Gs)(e.token),o(),y(e=>{if(d.C0&&!e.token){if(history.length>N.current)(0,c.YC)();else if(history.length<N.current){let e=(0,c.xi)();history.replaceState({},"",location.href.split("#")[0]+"#token=".concat(e,")}")),N.current=history.length}}}))})}}},b=l(2227),C=l(83407),y=l(62878);async function k(){let{data:e}=await y.Z.get("/public/api/sug/examples");return e.data}var N=l(78278),I=l(16182),E=l(27163),Z=l(32625),L=l(40806),S=l(15650),R=l(30269),O=l(59920);let M=["timbres","regexp_url","apkUrl","inspoAppUrl","wordSpreadRate","rewriteConfig","rewriteConfigH5","preload_url_config","mobileQRCodeURL","communityQRCodeURL","homepageIOSAppStoreQrcode","homepageAndroidDownloadQrcode","negative_reviews_list","discoverSchema","shareIOSAppStoreQrcode","shareAndroidDownloadQrcode","communityVideoQRCodeURL","tutorial_link"];var T=()=>{let e=(0,a.I0)();return{onGetWebCommonConfig:async()=>{try{var t;console.log(M.join(","));let l=await (0,I.yT)(M.join(","));e((0,N.ki)(l.timbres)),e((0,S.$m)(l.regexp_url)),e((0,O.fO)(l.apkUrl)),e((0,O.z2)(l.inspoAppUrl)),e((0,E.kq)(l.wordSpreadRate)),e((0,L.fk)(u.$L?l.rewriteConfig:null!==(t=l.rewriteConfigH5)&&void 0!==t?t:[])),e((0,S.Nr)(l.preload_url_config)),e((0,R.Ji)(l.mobileQRCodeURL)),e((0,R.j)(l.communityQRCodeURL)),e((0,O.Rs)(l.homepageIOSAppStoreQrcode)),e((0,O.rr)(l.homepageAndroidDownloadQrcode)),e((0,R.uj)(l.negative_reviews_list)),e((0,O.Gm)({discoverSchema:l.discoverSchema,shareIOSAppStoreQrcode:l.shareIOSAppStoreQrcode,shareAndroidDownloadQrcode:l.shareAndroidDownloadQrcode})),e((0,R.nM)(l.communityVideoQRCodeURL)),e(function(e){throw Error("Function not implemented.")}(l.tutorial_link))}catch(e){console.log("获取Common_Config数据失败")}},getHailuoRobotSugInfo:async()=>{try{let t=await k();e((0,Z.ai)(t))}catch(e){console.log("error")}}}},F=l(91484),A=l(25197),G=()=>{let e=(0,a.v9)(e=>e.user.isLogin),t=(0,a.v9)(e=>e.user.userID),l=(0,a.v9)(e=>e.user.realUserID);(0,n.useEffect)(()=>{l&&(0,m.Kq)({hailuo_user_id:l})},[l]),(0,n.useEffect)(()=>{(0,m.Kq)({login_status:e?2:1}),e&&(0,m.EX)(t)},[e,t]),(0,n.useEffect)(()=>{(0,m.Kq)({device:m.XN,app_id:A.AF,app_name:A.iC})},[])},j=l(55920),D=l(54311),P=l(74313),z=l(79784),U=l(36223),V=n.createElement;let H="APPEAL_EMAIL";var $=e=>{let{setIsAppealForm:t,onAppeal:l}=e,{t:o}=(0,i.$G)(),{0:r,1:s}=(0,n.useState)(""),{0:c,1:u}=(0,n.useState)(!1),d=(0,a.v9)(e=>{var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.realUserID});(0,n.useEffect)(()=>{var e;s((null===(e=localStorage)||void 0===e?void 0:e.getItem(H+d))||"")},[d]);let p=()=>!!(r&&/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(r))||(u(!0),D.Z.error("Please fill in your email address"),!1),m=async()=>{p()&&l({email:r,successCb:()=>{localStorage.setItem(H+d,r)}})};return V("div",{className:"max-w-[460px] text-[15px] font-normal leading-[24px] text-[#AFB2BB]"},V("div",null,V(U.default,{rootClassName:"history-rename-input",allowClear:{clearIcon:V(z.lO,null)},autoFocus:!0,onChange:e=>s(e.target.value.replace(/\s+/g,"")),placeholder:o("Please fill in your email address"),status:c?"error":void 0,onBlur:p})),V("div",{className:"flex w-full justify-end text-[14px] leading-[20px] gap-4 mt-8"},V(P.Z,{variant:"blueText",onClick:()=>{t(!1),s(""),u(!1)}},o("cancel_btn")),V(P.Z,{variant:"blue",onClick:m},o("button_confirm"))))},B=l(36594),W=n.createElement,Q=e=>{let{setIsAppealForm:t,onClose:l,onAppeal:n}=e,{t:o}=(0,i.$G)(),r=(0,a.v9)(e=>{var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.bannedAppealModal}),s=(0,a.v9)(e=>e.config.tutorialLinkInfo),c=()=>{t(!0)},d=async()=>{u.Gh?c():n()};return W("div",{className:"max-w-[460px] text-[15px] font-normal leading-[24px] text-[#AFB2BB]"},W("div",null,r.message,W("span",{className:"text-[#1887FB] cursor-pointer",onClick:()=>{s&&(0,B.Yo)(s.url)}},"\xa0",o("user_ban_appeal_rules"))),W("div",{className:"flex w-full justify-end text-[14px] leading-[20px] gap-4 mt-8"},W(P.Z,{variant:"blueText",onClick:d},o("button_appeal_confirm")),W(P.Z,{variant:"blue",onClick:l},o("button_announcement_confirm"))))},Y=l(8134),X=n.createElement,K=()=>{let{t:e}=(0,i.$G)(),t=(0,a.I0)(),l=(0,a.v9)(e=>{var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.bannedAppealModal}),{0:o,1:r}=(0,n.useState)(!1),c=()=>{t((0,x.h8)({show:!1,message:""})),r(!1)},u=async t=>{try{let l=await (0,s.Ty)(null!=t&&t.email?{email:t.email}:void 0);0===l.code?(D.Z.success(e("user_ban_appeal_submit")),null==t||t.successCb(),c()):23===l.code?(D.Z.warning(l.message),null==t||t.successCb(),c()):D.Z.error(l.message)}catch(l){(0,Y.k0)(l)?23===l.code?(D.Z.warning(l.message),null==t||t.successCb(),c()):D.Z.error(l.message):D.Z.error(e("user_ban_appeal_submit_failed"))}};return X(j.Z,{open:l.show,onClickMask:c,size:"sm",title:e("user_ban_appeal_title"),onClose:c},o?X($,{setIsAppealForm:r,onAppeal:u}):X(Q,{setIsAppealForm:r,onClose:c,onAppeal:u}))},J=l(97628),q=l(81117),ee=l(27303),et=l(46403),el=l(42778),en=l(61531),eo=l(80148),ea=n.createElement,er=()=>{let{t:e}=(0,i.$G)(),t=(0,a.I0)(),l=(0,n.useRef)(!1),{theme:o}=(0,J.F)(),[r]=(0,q.F_)(et.I8),c=(0,a.v9)(e=>e.user.showLoginModal),u=(e,t)=>{l.current=!1;let n=el.z.OTHER;t?(n=el.z.OAUTH_ERROR,D.Z.error("Login failed")):(0,Y.k0)(e)&&(n=el.z.SERVER_ERROR,D.Z.error(e.message)),(0,B.I)({id:"login_result",result_type:el.d.FAIL,fail_reason:n,page:"login_popup_page",login_type:"google",popup_type:"popup"})},d=e=>{l.current=!1,D.Z.success("Login success"),t((0,x.x4)(e)),t((0,x.pZ)(!1)),(0,B.I)({id:"login_result",result_type:el.d.SUCCESS,login_type:"google",page:"login_popup_page",popup_type:"popup"})},p=async e=>{try{if(r&&l.current)return;l.current=!0;let t=await (0,s.Ue)({authToken:e});d(t)}catch(e){u(e)}},m=async()=>{try{if(l.current)return;let e=(await (0,ee.rh)(et.I8,et.Vv)).user,t=await (0,ee.wU)(e);p(t)}catch(e){console.log("error",e),u(e,!0)}},g=()=>{t((0,x.pZ)(!1))};return ea(n.Fragment,null,ea(j.Z,{open:c,onClickMask:g,size:"md",className:"p-0",onClose:g},ea("video",{src:"https://cdn.hailuoai.com/pre/2024-09-05-14/featured_video/1725516891957076458-18.mp4",loop:!0,playsInline:!0,muted:!0,autoPlay:!0,preload:"auto",className:"w-full h-full object-cover"}),ea("div",{className:"relative flex flex-col items-center justify-between px-[25px] md:px-[32px]"},ea("div",{className:"md:mt-[60px] mt-[30px] color-col_accent04 font-xl text-[23px]"},"dark"===o?ea(eo.r6,null):ea(eo.gC,null)),ea("button",{className:"bg-col_bg00 w-full py-[22px] md:px-[14px] mx-[30px] mb-[25px] md:mb-[60px] md:mt-[30px] mt-[16px] flex items-center justify-center rounded-full md:hover:bg-col_bg01",onClick:m},ea("span",null,ea(en._8,null)),ea("span",{className:"pl-[10px] md:text-[16px] text-[12px] leading-[20px] font-[600] text-col_text00"},"Continue with Google")),ea("div",{className:"text-col_text01 mb-[36px] flex flex-col items-center text-[12px]"},ea("div",null,"By signing in, you are agreeing to the"),ea("div",null,ea("a",{className:"text-col_accent00 md:hover:text-col_accent00 active:text-col_accent00 visited:text-col_accent00 underline underline-offset-4",href:"/doc/en/terms-of-service.html ",target:"_blank",rel:"noopener noreferrer"},e("login_user_agreement")),ea("span",null," ",e("login_read_and_agree_and01")," "),ea("a",{className:"text-col_accent00 md:hover:text-col_accent00 active:text-col_accent00 visited:text-col_accent00 underline underline-offset-4",href:"/doc/en/privacy-policy.html",target:"_blank",rel:"noopener noreferrer"},e("login_privacy_policy")))))))};let ei={self_redirect:!0,id:"wxcode",appid:"wx6ad8cd0ff8fcdaf0",scope:"snsapi_login",redirect_uri:"https%3A%2F%2Fhailuoai.com%2Fwxscan",state:"hailuo",href:"data:text/css;base64,LmltcG93ZXJCb3ggLnFyY29kZSB7d2lkdGg6IDE4MHB4OyBoZWlnaHQ6MTgwcHg7IG1hcmdpbi10b3A6MDsgYm9yZGVyOiBub25lO30KLmltcG93ZXJCb3ggLnRpdGxlIHtkaXNwbGF5OiBub25lO30KLmltcG93ZXJCb3ggLmluZm8ge2Rpc3BsYXk6IG5vbmU7fQouc3RhdHVzX2ljb24ge2Rpc3BsYXk6IG5vbmV9Ci5pbXBvd2VyQm94IC5zdGF0dXMge3RleHQtYWxpZ246IGNlbnRlcjt9IA=="},es="微信扫码登录",ec=["https://hailuoai.com","https://hailuo-pre-v2.xaminim.com/"];var eu=l(80758),ed=l(34304),ep=l(15799);let em=e=>/^1[3456789]\d{9}$/.test(e),eg=e=>/^\d{6}$/.test(e);var ef=()=>{let e=(0,a.I0)(),{t}=(0,i.$G)(),l=(0,ep.t)(),o=(0,a.v9)(e=>e.user.showLoginModal),r=(0,a.v9)(e=>e.user.loginModalText),c=(0,a.v9)(e=>e.user.showBindModal),d=(0,a.v9)(e=>e.user.confirmModalOpen),p=(0,a.v9)(e=>e.user.formTemporary),{0:m,1:g}=(0,n.useState)(es),{0:f,1:h}=(0,n.useState)(!1),{0:_,1:w}=(0,n.useState)(!1),b=(0,n.useCallback)(async e=>{if(console.log("LoginModal getMsg",u.BB,e),(!u.BB||ec.includes(null==e?void 0:e.origin))&&e.data.hailuoWebLoginCode&&"string"==typeof e.data.hailuoWebLoginCode)try{g("扫码成功");let t=e.data.hailuoWebLoginCode,l=await (0,s.M7)({code:t});localStorage.setItem(F.Zv,l.unionID),localStorage.setItem(F.C_,l.openID),E(),g(es)}catch(e){D.Z.error(t("toast_login_fail")),(0,B.I)({id:"login_result",page:"login_popup_page",login_type:"wechat",result_type:2,fail_reason:4})}},[]),C=()=>{e((0,x.Ih)(!1)),(0,B.Mo)()},y=(n,o)=>{D.Z.success(t("toast_login_success")),e((0,x.x4)(n)),e((0,x.pZ)(!1)),e((0,x.SQ)(!1)),e((0,x.Ih)(!1)),e((0,x.bW)({phone:"",code:""})),h(!1),(0,B.I)({id:"login_result",result_type:el.d.SUCCESS,login_type:o===s.Ez.LOGINTYPETHIRDPART?"wechat":"mobile",page:"login_popup_page"});let a=new URLSearchParams(location.search).get(v.I1);n.isRegister===s.XX.OLD_USER&&a&&l.push("/")},k=(t,l)=>{let n=el.z.OTHER;(0,Y.k0)(t)&&(1200036===t.code?(null==p?void 0:p.phone)&&Z(null==p?void 0:p.phone):1200044===t.code?e((0,x.SQ)(!0)):(C(),D.Z.error(t.message)),n=el.z.SERVER_ERROR),(0,B.I)({id:"login_result",result_type:el.d.FAIL,fail_reason:n,page:"login_popup_page",loginType:l})},N=async()=>{try{let e=localStorage.getItem(F.Zv);if(!e)return;let t=s.Ez.LOGINTYPETHIRDPART,l=await (0,s.vg)({unionId:e,loginType:t});if(!l)return;y(l,s.Ez.LOGINTYPETHIRDPART)}catch(e){k(e,s.Ez.LOGINTYPETHIRDPART)}},I=async(e,t,l)=>{try{var n;let o=null!==(n=localStorage.getItem(F.Zv))&&void 0!==n?n:"",a=await (0,s.uX)({phone:e,code:t,unionId:o,loginType:l});if(!a)return;y(a,l)}catch(e){k(e,l)}},E=()=>{e((0,x.pZ)(!1)),N()},Z=e=>{ed.Z.confirm({title:t("title_appeal_modal"),icon:null,width:280,className:"appeal-modal",content:t("text_appeal_modal"),cancelText:t("general_cancel"),okText:t("button_appeal_confirm"),onOk:async()=>{try{await (0,s.CO)(e),D.Z.success(t("toast_appeal_success"))}catch(e){(0,Y.k0)(e)&&D.Z.error(e.message)}}})};return{checked:f,tip:m,showLoginModal:o,loginModalText:r,showBindModal:c,phoneValid:_,confirmModalOpen:d,formTemporary:p,onSecondConfirm:()=>{let e=localStorage.getItem(F.Zv)?s.Ez.LOGINTYPETHIRDPART:s.Ez.LOGINTYPEPHONE;I(p.phone,p.code,e),(0,x.bW)({})},setChecked:h,onFinish:(l,n)=>{let{phone:o,code:a}=l;if(!o){D.Z.info(t("login_enter_phone_number"));return}if(!a){D.Z.warning(t("toast_login_code_required"));return}if(!eg(a)){D.Z.warning(t("toast_login_code_format"));return}if(!f){e((0,x.bW)({phone:o,code:a})),e((0,x.Ih)(!0)),e((0,x.pZ)(!1));return}I(o,a,n)},openAppealModal:Z,onClose:()=>{localStorage.removeItem(F.Zv),e((0,x.pZ)(!1)),e((0,x.SQ)(!1)),e((0,x.bW)({phone:"",code:""})),h(!1),e((0,L.EW)(void 0)),(0,B.I)({id:"login_result",page:"login_popup_page",login_type:"mobile",result_type:el.d.FAIL,fail_reason:el.z.CANCEL})},handlePhoneChange:e=>{w(em(e.target.value))},getVerifyCode:b,onSecondCancel:C}},ex=l(71629),ev=l.n(ex),eh=n.createElement,e_=function(e){let{getPhone:t,openAppealModal:l,isPhoneValid:o}=e,a=(0,n.useRef)(),{0:r,1:c}=(0,n.useState)(60),{t:u}=(0,i.$G)(),{0:d,1:p}=(0,n.useState)(!1),m=(0,n.useRef)(!1);(0,n.useEffect)(()=>(d?a.current=window.setInterval(()=>{c(e=>0===e?(clearInterval(a.current),p(!1),60):e-1)},1e3):(c(60),a.current&&clearInterval(a.current)),()=>{a.current&&clearInterval(a.current)}),[d]);let g=async function(){let{ticket:e,randStr:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t();try{let t={phone:o,ticket:e,randStr:n};if(localStorage.getItem(F.Zv)){var a;t.unionID=null!==(a=localStorage.getItem(F.Zv))&&void 0!==a?a:""}await (0,s.Hy)(t),p(!0),D.Z.success(u("toast_verification_code_sent")),m.current=!1}catch(e){(0,Y.k0)(e)&&(1200036===e.code?l():D.Z.error(e.message)),p(!1),m.current=!1}},f=e=>{if(2===e.ret){m.current=!1;return}0===e.ret&&!e.errorCode&&e.ticket&&e.randstr?g({ticket:e.ticket,randStr:e.randstr}):g()},x=()=>{g()},v=async()=>{if(d||m.current)return;m.current=!0;let e=t();if(!e){D.Z.info(u("login_enter_phone_number")),m.current=!1;return}try{let{needCaptcha:t,aid:l,aidEncrypted:n}=await (0,s.sJ)({phone:e});if(t)try{new TencentCaptcha(l,f,{aidEncrypted:n,userLanguage:navigator.language}).show()}catch(e){x()}else await g()}catch(e){m.current=!1}},h=d?"".concat(u("verification_code_resend"),"   ").concat(r,"s"):u("login_get_verification_code");return eh("button",{type:"button",onClick:v,className:ev()("w-[110px] whitespace-nowrap rounded-br-[12px] rounded-tr-[12px] text-col_text01 text-center text-[14px] leading-[46px] bg-col_bg00",d||!o?"cursor-not-allowed ":"text-col_accent00")},h)},ew=n.createElement,eb=e=>{let{loginType:t}=e,[l]=eu.Z.useForm(),{checked:o,setChecked:a,onFinish:r,openAppealModal:i,phoneValid:s,handlePhoneChange:c,formTemporary:d}=ef();return(0,n.useEffect)(()=>{d&&l.setFieldsValue(d)},[d]),ew(eu.Z,{form:l},ew("div",{className:"bg-col_bg00 phone-wrap mb-[12px] flex rounded-[12px]"},ew(eu.Z.Item,{name:"phone",getValueFromEvent:e=>{var t;return null==e||null===(t=e.target)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.replace(/\D/g,"")},className:"flex-1"},ew(U.default,{maxLength:11,placeholder:"请输入手机号",autoComplete:"off",onChange:c,className:"bg-col_bg00 text-col_text00 focus:bg-col_bg00 rounded-[12px] border-0 px-4 py-[13px] text-[16px] leading-[22px] placeholder:text-[16px] placeholder:text-[#999] focus:shadow-none ",autoFocus:!0}))),ew("div",{className:"flex w-full items-center"},ew("div",{className:"flex-1"},ew(eu.Z.Item,{name:"code",className:"mb-0",getValueFromEvent:e=>{var t;return null==e||null===(t=e.target)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.replace(/\D/g,"")}},ew(U.default,{size:"large",maxLength:6,autoComplete:"off",className:"code-input bg-col_bg00 text-col_text00 focus:bg-col_bg00 rounded-bl-[12px] rounded-br-[0px] rounded-tl-[12px] rounded-tr-[0px] border-0 px-4 py-[12px] text-[16px] leading-[22px] placeholder:text-[16px] placeholder:text-[#999] focus:shadow-none ",placeholder:"请输入验证码"}))),ew("div",{className:""},ew(e_,{openAppealModal:()=>{i(l.getFieldValue("phone"))},getPhone:()=>l.getFieldValue("phone"),isPhoneValid:s}))),ew("div",{className:"mt-3"},ew("div",{className:"text-font_body flex select-none items-center"},ew("button",{type:"button",className:"outline-pri_1 mr-1.5 cursor-pointer",onClick:()=>a(!o)},o?ew(en.u2,null):ew(en.WJ,null)),ew("div",{className:"text-[14px] leading-[20px]"},ew("span",null,"我已阅读并同意\xa0"),ew("span",{className:"text-col_accent00 cursor-pointer",onClick:()=>(0,B.Yo)(u.Gh?"/doc/en/terms-of-service.html":"/doc/agreement.html",!0,"_blank")},"用户协议"),ew("span",null,"\xa0与\xa0"),ew("span",{className:"text-col_accent00 cursor-pointer",onClick:()=>(0,B.Yo)(u.Gh?"/doc/en/privacy-policy.html":"/doc/privacy-policy.html",!0,"_blank")},"隐私政策")))),ew(P.Z,{variant:"important",onClick:()=>{let{phone:e,code:n}=l.getFieldsValue();r({phone:e,code:n},t)},className:"button md:mt-[48px] w-full mt-5 h-[54px] rounded-[12px] text-[16px] font-medium"},"立即登录"))},eC=n.createElement,ey=()=>{let{t:e}=(0,i.$G)(),{confirmModalOpen:t,onSecondConfirm:l,onSecondCancel:n}=ef();return eC(j.Z,{open:t,onClickMask:n,size:"sm",title:e("login_user_agreement_privacy_protection"),onClose:n},eC("div",{className:"select-none pb-8  text-[16px] leading-[22px] text-col_text02"},eC("span",null,"我已阅读并同意\xa0"),eC("span",{className:"cursor-pointer text-col_accent00",onClick:()=>(0,B.Yo)(u.Gh?"/doc/en/terms-of-service.html":"/doc/agreement.html",!0,"_blank")},e("login_user_agreement")),eC("span",null,"\xa0与\xa0"),eC("span",{className:"cursor-pointer text-col_accent00",onClick:()=>(0,B.Yo)(u.Gh?"/doc/en/privacy-policy.html":"/doc/privacy-policy.html",!0,"_blank")},e("login_privacy_policy"))),eC("div",{className:"flex w-full items-center justify-end font-medium gap-4"},eC(P.Z,{variant:"blueText",onClick:n},e("general_cancel")),eC(P.Z,{variant:"blue",onClick:l},e("login_agree_and_login"))))},ek=n.createElement,eN=()=>{let{onClose:e,showBindModal:t}=ef();return ek(j.Z,{open:t,onClickMask:e,size:"sm",title:"绑定手机号",onClose:e},ek("div",{className:"w-full"},ek(eb,{loginType:s.Ez.LOGINTYPETHIRDPART})))},eI=n.createElement,eE=()=>{let{getVerifyCode:e,tip:t,showLoginModal:l,loginModalText:o,onClose:a}=ef();return(0,n.useEffect)(()=>(window.WxLogin&&l&&(new window.WxLogin(ei),window.addEventListener("message",e,!1)),()=>{window.removeEventListener("message",e,!1)}),[l]),eI(n.Fragment,null,eI(j.Z,{open:l,onClickMask:a,className:"p-0",size:"lg"},eI("div",{className:"login-modal-wrapper"},eI("div",{className:"absolute right-6 top-6 cursor-pointer",onClick:a},eI(en.Su,null)),eI("div",{className:"flex h-full justify-center"},eI("div",{className:"min-w-[375px] flex-row p-8 hidden md:block  border-r-[1px] border-solid border-col_line00"},eI("div",{className:"login-title text-col_text00 flex justify-center text-2xl font-[500]"},null==o?void 0:o.leftTitle),eI("div",{className:"mb-10 ext-col_text00 mt-[8px] flex justify-center text-base"},null==o?void 0:o.leftSubTitle),eI("div",{id:"wxcode",className:"mx-auto flex h-[180px] w-[180px] justify-center shadow-s2 rounded-[8px] overflow-hidden"}),eI("div",{className:"mt-[20px] flex items-center justify-center"},eI("img",{src:"./assets/img/share_wechat_friends.png",className:"mx-[2px] h-[20px] w-[20px]"}),eI("div",{className:"text-col_text00 flex text-[16px]"},t))),eI("div",{className:"w-[400px] p-8 md:px-[35px] md:py-12"},eI("div",{className:"mb-[26px]"},eI("div",{className:"text-col_text00 mt-2 justify-center text-[18px] font-[500] hidden md:flex"},o.rightTitle),eI("div",{className:"md:hidden"},eI("div",{className:"login-title text-col_text00 text-2xl font-semibold"},o.leftTitle),eI("div",{className:"mb-10 ext-col_text00 mt-[8px] text-base"},o.leftSubTitle))),eI("div",{className:"w-full"},eI(eb,{loginType:s.Ez.LOGINTYPEPHONE})))))),eI(eN,null),eI(ey,null))},eZ=n.createElement,eL=()=>eZ(n.Fragment,null,u.Gh?eZ(er,null):eZ(eE,null)),eS=l(57387),eR=n.createElement,eO=function(){let e=(0,a.I0)(),t=(0,a.v9)(e=>e.user.showLogoutModal),{t:l}=(0,i.$G)(),n=()=>{e((0,x.VQ)(!1))};return eR(j.Z,{open:t,onClickMask:n,onClose:n,size:"sm",title:l("settings_logout")},eR("div",{className:"pb-8 text-[16px] leading-[22px] text-col_text02"},l("logout_confirm")),eR("div",{className:"flex w-full justify-end text-[14px] leading-[20px] gap-4"},eR(P.Z,{variant:"gray",onClick:n},l("general_cancel")),eR(P.Z,{variant:"redText",onClick:()=>{e((0,x.VQ)(!1)),(0,eS.dy)({showLoginModal:!1})}},l("general_confirm"))))},eM=l(85044),eT=n.createElement,eF=function(){return eT("div",{className:"flex h-[var(--screen)] w-screen items-center justify-center"},eT(eM.default,null))},eA=l(62200),eG=l(69301),ej=l(43459),eD=l(40155),eP=l(61798),ez=l(7777),eU=l(6926);function eV(){return{openMMX:()=>{let e=u.Gh?"https://minimaxi.com/en":"https://minimaxi.com";window.open(e)}}}var eH=l(62891),e$=n.createElement;let eB=e=>{let{onClickLogout:t,onClickContentUs:l}=e,{t:o}=(0,i.$G)(),{0:r,1:s}=(0,n.useState)(!1),{openMMX:c}=eV(),u=(0,a.v9)(e=>e.user.webAvatar),d=(0,a.v9)(e=>e.user.userName);return e$(eH.Z,{menu:[{label:o("about_minimax"),onClick:c},{label:o("title_contact_us"),onClick:()=>{l(),s(!1)}},{label:o("settings_logout"),onClick:()=>{t(),s(!1)},type:"warning"}]},e$("div",{onClick:()=>s(!r),className:"flex flex-row items-center text-col_text00"},u?e$("img",{src:u,alt:"avatar",className:"h-6 w-6 rounded-full"}):e$(eU.Pb,null),e$("span",{className:"text-[15px] font-[500] leading-[21px] ml-[10px] mr-1"},d),e$(eU.Jm,null)))},eW=e=>{let{onClickLogin:t}=e,{t:l}=(0,i.$G)();return e$("div",{className:"h-6 flex flex-row items-center text-col_text00",onClick:t},e$(eU.Pb,null),e$("span",{className:"text-[15px] font-[500] leading-[21px] ml-[10px] mr-1"},l("button_signin")),e$(eU.Jm,null))};var eQ=e=>{let{onClickLogin:t,onClickLogout:l,onClickContentUs:n}=e;return(0,a.v9)(e=>e.user.isLogin)?e$(eB,{onClickLogout:l,onClickContentUs:n}):e$(eW,{onClickLogin:t})},eY=n.createElement,eX=()=>{let{t:e}=(0,i.$G)(),t=(0,a.v9)(e=>e.user.isLogin);return eY("div",{className:"w-full h-full flex flex-col items-center justify-center"},eY(eU.vC,null),eY("div",{className:"text-[13px] leading-[18px] text-[#999] pt-0.5"},e(t?"empty_history_topic":"sidebar_view_topic_history_after_login")),!t&&eY("div",{onClick:()=>(0,b.Mo)("login_click"),className:"w-[126px] h-[40px] mt-4 flex justify-center items-center border border-col_text00 rounded-[12px] text-col_text00 text-base font-medium"},e("button_signin")))},eK=l(96228),eJ=l(47661);let eq=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,n=null;return o=>{null!==n?(clearTimeout(n),n=null,t&&t(o)):n=setTimeout(()=>{e&&e(o),n=null},l)}};var e0=l(46096),e1=l(87339),e6=l(261),e3=n.createElement,e2=e=>{var t;let{chatId:l,isCurrentChat:o}=e,{getPageName:a}=(0,eK.Z)(),{historyItem:r,goChatHistory:i}=(0,eD.gn)(l),{confirmRenameChat:s}=(0,eD.xW)(),c=(null!==(t=null==r?void 0:r.chatTitle)&&void 0!==t?t:"").slice(0,e0.Gz),{0:u,1:p}=(0,n.useState)(!1),{0:m,1:g}=(0,n.useState)(!1),f=u||m,{0:x,1:v}=(0,n.useState)(!1),{0:h,1:_}=(0,n.useState)(""),w={page:a(),chat_id:r.chatID},b=e=>{v(!1),e&&e!==c&&s(r.chatID,e,w)};return e3("div",{onClick:eq(()=>{x||i(l)},()=>{d.wi||(_(c),v(!0),(0,e6.m)(e0.zI.DC_RENAME))}),onContextMenu:e=>{!d.wi&&(e.preventDefault(),u||p(!0))},className:ev()("relative group/history w-full cursor-pointer h-[36px] px-[10px] flex items-center rounded-[8px] hover:bg-col_bg13 hover:text-col_text00 text-[14px]",{"text-col_text00":o,"bg-col_bg13":f})},x?e3("input",{value:h,onChange:e=>_(e.target.value),onBlur:()=>{b(h)},onKeyDown:e=>{x&&"Enter"===e.key&&b(h)},className:"history-title-input absolute truncate inset-0 w-full h-full px-[9px] bg-col_bg13 rounded-lg focus:outline-none border border-col_brand02",autoFocus:!0}):e3(n.Fragment,null,e3("div",{className:"flex-1 truncate select-none"},r.chatTitle),e3(e1.Z,{item:r,open:!!u||void 0,className:ev()(f?"md:block md:text-col_text00":"md:hidden md:group-hover/history:block md:hover:text-col_text00"),onOpenChange:e=>{g(e)}})))},e5=n.createElement,e4=(0,n.forwardRef)(function(e,t){var l;let{icon:o,title:r,listType:s,className:c}=e,u=(0,a.I0)(),{getPageName:d}=(0,eK.Z)(),{t:p}=(0,i.$G)(),{0:m,1:g}=(0,n.useState)(!0);(0,n.useImperativeHandle)(t,()=>({unfold:()=>{if(!h){(0,B.Mo)();return}g(!0)}}),[]);let{goHistoryList:f}=(0,eD.Ir)(),{cleanPreviewFile:x}=(0,eJ.Z)(),v=(0,a.v9)(e=>e.chat.chatId),h=(0,a.v9)(e=>e.user.isLogin),_=(0,a.v9)(e=>e.chat.isShareSelecting),w=null!==(l=(0,a.v9)(e=>{var t;return null===(t=e.history[s])||void 0===t?void 0:t.chatIds}))&&void 0!==l?l:[],b=w.slice(0,5),C=w.length>5;return e5("div",{className:"\n      grid transition-[grid-template-rows] duration-300 ease-in-out\n      ".concat(m?"grid-rows-[1fr]":"grid-rows-[0fr]","\n      ").concat(c||"","\n    ")},e5("div",{className:"overflow-hidden min-h-[50px] flex flex-col"},e5("nav",{className:"h-[44px] w-full mb-[6px] py-3 md:hover:bg-col_bg13 cursor-pointer rounded-[12px]",onClick:()=>{if(!h){(0,B.Mo)();return}g(!m)}},e5("div",{className:"w-full px-3 min-w-[218px] justify-between items-center inline-flex"},e5("div",{className:"flex gap-2"},o,e5("div",{className:"text-col_text00 text-[15px] font-[500]"},r)),e5("div",{className:"transition duration-300 ".concat(m?"rotate-180":"")},e5(eo.r3,null)))),e5("div",{className:"pl-[8px] ml-6 py-[3px] text-col_text01"},b.length?e5("div",{className:"flex flex-col"},b.map(e=>e5(e2,{key:e,chatId:e,isCurrentChat:e===v})),C&&e5("div",{className:"hover:bg-col_bg13 pl-[10px] h-[36px] rounded-[8px] flex items-center md:hover:text-col_text0 cursor-pointer text-[14px]",onClick:()=>{if(_&&u((0,L.jX)(!1)),x(),!(0,B.Xx)()){(0,B.Mo)("chat_history_click");return}(0,B.I)({id:"chat_history_click",page:d()}),f(s)}},p("button_view_all"))):e5("div",{className:"text-col_text03 text-[14px] h-[36px] flex items-center pl-[10px] overflow-hidden"},p("text_no_chat_hist")))))}),e9=n.createElement,e8=function(){let e=(0,a.I0)(),t=(0,a.v9)(e=>e.history.isOpenMobileHistoryLayer),{loadSilently:l}=(0,eD.uF)(),o=(0,a.v9)(e=>e.user.isLogin),r=(0,a.v9)(e=>e.chat.isShareSelecting),{0:s,1:c}=(0,n.useState)(!1),{t:u}=(0,i.$G)(),d=()=>{e((0,ez.if)(!1))},p=()=>{l()};return(0,n.useEffect)(()=>{o&&t&&p()},[o,t]),e9(eG.GI,{position:"left",destroyOnClose:!0,closeOnMaskClick:!0,onClose:d,visible:t,bodyStyle:{width:"320px",height:"100%"},className:"block md:hidden"},e9("div",{className:"h-full w-full bg-col_bg03 flex flex-col overflow-hidden"},e9("div",{className:"w-full h-[56px] flex flex-row justify-between items-center my-5 px-5"},e9(eQ,{onClickLogin:()=>{(0,B.Mo)("login_click")},onClickLogout:()=>{r&&e((0,L.jX)(!1)),e((0,x.VQ)(!0)),(0,B.I)({id:"avatar_drop_down_click",drop_down_clk_type:"sign_out"})},onClickContentUs:()=>{r&&e((0,L.jX)(!1)),e((0,eP.v2)(!0)),(0,B.I)({id:"avatar_drop_down_click",drop_down_clk_type:"contant_us"})}}),e9("div",{className:"flex flex-row items-center text-col_text00"},e9("div",{onClick:()=>{c(!0)}},e9(eU.Qn,null),e9(eG.GI,{visible:s,onMaskClick:()=>{c(!1)},bodyClassName:"rounded-t-2xl bg-col_bg09 min-h-[40vh]"},e9("div",{className:"flex flex-col w-full p-[25px]"},e9("div",{className:"text-[17px] font-[500] text-col_text00 text-start"},u("more_applications")),e9("div",{className:"grid grid-cols-1 gap-[10px] mt-[25px]"},e9(ej.Z,null))))),e9("div",{className:"ml-4",onClick:d},e9(eU.Md,null)))),o?e9(n.Fragment,null,e9(e4,{icon:e9(eo.a$,null),title:u("button_chat_history"),listType:ez.RH.ALL,className:"mx-1"}),e9(e4,{icon:e9(eo.dv,null),title:u("starred_list"),listType:ez.RH.FAVORITE,className:"mx-1"})):e9(eX,null)))},e7=l(59890),te=n.createElement,tt=e=>{let{enabled:t,children:l,title:o,className:a}=e;return t?te(e7.Z,{className:a||"",overlayClassName:"icon-button-tooltip",placement:"right",title:o,arrow:!1,align:{offset:[24,4]}},l):te(n.Fragment,null,l)},tl=l(16492),tn=n.createElement;let to=e=>tn("svg",(0,tl.Z)({width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),tn("path",{d:"M2.55469 3.01953H11.4436",stroke:"currentColor",strokeWidth:"1.42222",strokeLinecap:"round",strokeLinejoin:"round"}),tn("path",{d:"M9.64314 9.70412L12.3917 7.73493C12.8328 7.41887 13.4466 7.73418 13.4466 8.27687V12.2152C13.4466 12.7579 12.8328 13.0732 12.3917 12.7572L9.64314 10.788C9.27194 10.522 9.27194 9.97006 9.64314 9.70412Z",fill:"currentColor"}),tn("path",{d:"M2.55664 8.01038H7.52279",stroke:"currentColor",strokeWidth:"1.42222",strokeLinecap:"round",strokeLinejoin:"round"}),tn("path",{d:"M2.55664 13H6.60091",stroke:"currentColor",strokeWidth:"1.42222",strokeLinecap:"round",strokeLinejoin:"round"})),ta=e=>tn("svg",(0,tl.Z)({width:"30",height:"110",viewBox:"0 0 30 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),tn("g",{clipPath:"url(#clip0_522_8556)"},tn("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 25C15.5 30.7111 20.9361 36.0195 24.9092 39.1366C27.3477 41.0497 29 43.9006 29 47V55V63C29 66.0994 27.3477 68.9503 24.9092 70.8634C20.9361 73.9805 15.5 79.2889 15.5 85L2.5 55L15.5 25Z",fill:"currentColor"})),tn("defs",null,tn("clipPath",{id:"clip0_522_8556"},tn("rect",{width:"17",height:"110",fill:"white",transform:"translate(13)"}))));var tr=n.createElement;function ti(){let e=(0,eA.useRouter)(),t=(0,a.I0)(),{getPageName:l}=(0,eK.Z)(),o=(0,a.v9)(e=>e.user.isLogin),r=(0,a.v9)(e=>e.chat.isShareSelecting),{t:s}=(0,i.$G)(),{cleanPreviewFile:c}=(0,eJ.Z)(),{0:u,1:d}=(0,n.useState)(0),{0:p,1:m}=(0,n.useState)(window.innerWidth>=1024),{0:g,1:f}=(0,n.useState)(""),x=(0,n.useRef)(null),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=()=>{m(window.innerWidth>=1024)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let _=1===u||0===u&&p,w=e=>{d(1),e&&e.unfold()},b=()=>{var n,a;if(o||(0,B.Mo)(),r&&t((0,L.jX)(!1)),(0,B.I)({id:"create_chat_click",page:l()}),c(),(null===(n=location)||void 0===n?void 0:n.pathname)===v.ft&&!(null!==(a=location)&&void 0!==a&&a.search)){D.Z.info(s("toast_new_topic_started"));return}t((0,L.wm)()),e.push(v.ft)},C=ev()("relative h-full transition-[width] duration-300 bg-col_bg03 rounded-[20px]",_?"w-[250px]":"w-[76px]"),y=e=>ev()("h-[44px] w-full rounded-[12px] cursor-pointer flex justify-center items-center",e?"gradient-shadow":"hover:bg-col_bg13");return tr("aside",{className:"z-[120] hidden md:block h-full pl-4 pb-4"},tr("div",{className:C},tr("div",{className:ev()("w-full h-full p-4 transition-opacity duration-150 overflow-hidden",_?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none")},tr("nav",{className:"h-[44px] w-full min-w-[218px] mb-[6px] gradient-shadow rounded-[12px] cursor-pointer",onClick:b},tr("div",{className:"w-full h-full justify-between items-center inline-flex px-3 py-3"},tr("div",{className:"justify-start items-center gap-2 flex"},tr("div",{className:"w-5 h-5"},tr(eo.Ur,null)),tr("div",{className:"text-col_text00 text-[15px] font-[500]"},s("button_new_chat"))),tr("div",{className:"justify-start items-center gap-[5px] flex opacity-[0.16]"},tr(eo.T$,null),tr(eo.WY,null)))),tr(e4,{ref:x,icon:tr(eo.a$,null),title:s("button_chat_history"),listType:ez.RH.ALL}),tr(e4,{ref:h,icon:tr(eo.dv,null),title:s("starred_list"),listType:ez.RH.FAVORITE})),tr("div",{className:ev()("absolute inset-0 w-[76px] mx-auto h-full p-4 flex flex-col gap-[6px] transition-opacity duration-150",_?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto")},tr(tt,{enabled:!0,title:s("button_new_chat")},tr("nav",{className:y(!0),onClick:b},tr("div",{className:"w-5 h-5"},tr(eo.Ur,null)))),tr(tt,{enabled:!0,title:s("button_chat_history")},tr("div",{className:y(!1),onClick:()=>w(x.current)},tr(eo.a$,null))),tr(tt,{enabled:!0,title:s("starred_list")},tr("div",{className:y(!1),onClick:()=>w(h.current)},tr(eo.dv,null)))),tr(tt,{enabled:!0,title:g},tr("button",{className:"absolute bottom-[90px] right-[-15px] w-[30px] h-[110px] cursor-pointer text-col_text03 hover:text-col_accent00",onMouseEnter:()=>f(_?s("collapse_side_bar"):s("expand_side_bar")),onClick:()=>{d(_?2:1)}},tr("div",{className:"text-col_bg03"},tr(ta,null)),tr(to,{className:"".concat(_?"":"rotate-180"," transition-transform duration-300 absolute top-[47px] left-[5px]")})))))}var ts=l(75970),tc=l(7598),tu=n.createElement,td=function(){return tu(n.Fragment,null,tu(e8,null),tu(ti,null),tu(ts.Z,null),tu(tc.Z,null))},tp=l(69573),tm=l(9618),tg=n.createElement;function tf(e){let{onClickLogout:t,onClickContentUs:l}=e,{t:o}=(0,i.$G)(),{0:r,1:s}=(0,n.useState)(!1),{openMMX:c}=eV(),u=(0,a.v9)(e=>e.user.webAvatar);return tg("div",null,tg(eH.Z,{menu:[{label:o("about_minimax"),onClick:c,icon:tg(z.OK,null)},{label:o("title_contact_us"),onClick:()=>{l(),s(!1)},icon:tg(z.U9,null)},{label:o("settings_logout"),onClick:()=>{t(),s(!1)},icon:tg(z.A9,null),type:"warning"}]},tg("div",{className:"group relative rounded-full"},tg("div",{className:"rounded-full"},tg("img",{src:u,alt:"avatar",className:"h-7 w-7 cursor-pointer rounded-full",onClick:()=>{s(!r)}})),tg("div",{className:"absolute left-0 top-0 z-[10] hidden h-7 w-7 cursor-pointer rounded-full bg-[rgba(0,0,0,0.40)] group-hover:block"}))))}var tx=function(e){let{onClickLogin:t,onClickLogout:l,onClickContentUs:o}=e,r=(0,a.v9)(e=>e.user.isLogin),{t:s}=(0,i.$G)();return tg(n.Fragment,null,r?tg(n.Fragment,null,tg(tf,{onClickLogout:l,onClickContentUs:o})):tg("div",{className:"flex px-[16px] h-[32px] font-medium text-col_text00 border border-col_text00 hover:bg-col_text00 hover:text-col_text05 cursor-pointer items-center justify-center rounded-full  text-[13px] leading-[17px] md:h-[36px] ",onClick:t},s("button_signin")))},tv=n.createElement,th=()=>{let e=(0,a.I0)(),t=(0,a.v9)(e=>e.chat.isShareSelecting),l=()=>{(0,b.Mo)("login_click")},n=()=>{t&&e((0,L.jX)(!1)),e((0,eP.v2)(!0)),(0,m.I)({id:"avatar_drop_down_click",drop_down_clk_type:"contant_us"})},o=()=>{t&&e((0,L.jX)(!1)),e((0,x.VQ)(!0)),(0,m.I)({id:"avatar_drop_down_click",drop_down_clk_type:"sign_out"})};return u.$L?tv(tx,{onClickLogin:l,onClickLogout:o,onClickContentUs:n}):tv(eQ,{onClickLogin:l,onClickLogout:o,onClickContentUs:n})},t_=n.createElement,tw=()=>{let{setTheme:e,resolvedTheme:t}=(0,J.F)();return B.C0?null:t_("div",{onClick:()=>{e("dark"===t?"light":"dark")},className:"cursor-pointer h-8 w-8 flex items-center justify-center md:hover:bg-col_bg00 rounded-[8px]"},"light"===t?t_(eo.kL,null):t_(eo.NW,null))},tb=n.createElement;let tC=[{key:"chat",title:"问答",url:"",onClick:()=>{window.location.href="/"}},{url:"/video",key:"video",title:"视频"},{url:"/audio",key:"audio",title:"语音"}],ty=[{key:"chat",title:"Chat",url:"",onClick:()=>{window.location.href="/"}},{url:"https://hailuoai.video",key:"video",title:"Video"},{url:"/audio",key:"audio",title:"Audio"}],tk=e=>{let{createNewChat:t}=e,l=(0,a.I0)(),{getPageName:o}=(0,eK.Z)();return tb(n.Fragment,null,tb("div",{onClick:()=>{l((0,L.wm)()),l((0,ez.if)(!0)),(0,B.I)({id:"chat_history_click",page:o(),chat_id:tm.h.getState().chat.chatId,bot_id:tm.h.getState().robot.targetRobot.robotIDStr})},className:"text-col_text00"},tb(eo.Mp,null)),tb("div",{className:"flex items-center gap-4"},tb(tw,null),tb("div",{onClick:t,className:"text-col_text00"},tb(eo.lc,null))))};var tN=()=>{let{t:e}=(0,i.$G)(),{cleanPreviewFile:t}=(0,eJ.Z)(),l=(0,eA.useRouter)(),o=(0,a.I0)(),{theme:r}=(0,J.F)(),s="dark"===r;(0,n.useEffect)(()=>{let e=e=>{"k"===e.key&&(d.ED?e.ctrlKey:e.metaKey)&&c()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let c=()=>{var n,a;if(o((0,L.jX)(!1)),t(),(null===(n=location)||void 0===n?void 0:n.pathname)===v.ft&&!(null!==(a=location)&&void 0!==a&&a.search)){D.Z.info(e("toast_new_topic_started"));return}o((0,L.wm)()),l.push(v.ft)};return tb(n.Fragment,null,tb("header",{className:"w-full h-[54px] md:h-[67px] overflow-hidden relative z-[120]"},tb("div",{className:"w-full h-full flex-1 md:hidden flex items-center justify-between px-5 py-[15px]"},tb(tk,{createNewChat:c})),tb(tp.Z,{language:u.Gh?"en":"zh",navList:u.Gh?ty:tC,colorMode:s?"dark":"light",currentPage:"chat",className:"hidden md:flex pl-10 pr-[20px] justify-between items-center bg-transparent shadow-none"},tb("div",{className:"flex items-center gap-4"},tb(e7.Z,{placement:"bottom",zIndex:1040,title:s?e("light_mode"):e("dark_mode"),arrow:!1,overlayClassName:"icon-button-tooltip",trigger:"hover"},tb("div",null,tb(tw,null))),tb(th,null)))))},tI=n.createElement,tE=e=>{let{children:t}=e,l=(0,eA.usePathname)(),o=(0,a.v9)(e=>e.user.isLogin),r=(0,a.v9)(e=>e.user.userID),i=(0,n.useRef)(!0),{0:s,1:c}=(0,n.useState)(!0),u="/"===l,{initUserInfo:d,initMiniProgramUser:p,onMiniProgramOnceEvent:g}=w(),{onGetWebCommonConfig:f,getHailuoRobotSugInfo:x}=T();G();let h=async()=>{c(!0);try{f(),x(),p(),await d(),c(!1),_()}catch(e){console.log(e)}},_=()=>{localStorage.getItem(F.GA)&&(localStorage.removeItem(F.GA),(0,b.Mo)())},y=()=>{if("/"===location.pathname){let e="直接打开";origin&&(e=origin),(0,m.I)({id:"link_origin",origin:e})}};return((0,n.useEffect)(()=>{i.current=(0,v.Jb)(),h(),y(),g()},[]),(0,n.useEffect)(()=>{o&&(0,C.E)()},[o,r]),s&&i)?tI(eF,null):tI(n.Fragment,null,tI("section",{className:"flex h-[--screen] w-full flex-col overflow-hidden bg-col_bg09 "},u&&tI(tN,null),tI("div",{className:"flex-1 relative h-[--screen] w-full overflow-hidden flex flex-row"},u&&tI(td,null),tI("section",{className:"flex-1 w-full min-h-full overflow-hidden"},t))),tI(eL,null),tI(eO,null),tI(K,null))},tZ=n.createElement;function tL(e){let{children:t}=e;return tZ(tE,null,tZ(n.Fragment,null,t,tZ(o.Z,null)))}},56670:function(e,t,l){"use strict";l.d(t,{fX:function(){return s},nb:function(){return o},qQ:function(){return a},vU:function(){return i},yC:function(){return r}});var n=l(29784).createElement;let o=()=>n("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M7.65002 5.33333C7.65002 5.68696 7.7905 6.02609 8.04055 6.27614C8.2906 6.52619 8.62974 6.66667 8.98336 6.66667C9.33698 6.66667 9.67612 6.52619 9.92617 6.27614C10.1762 6.02609 10.3167 5.68696 10.3167 5.33333C10.3167 4.97971 10.1762 4.64057 9.92617 4.39052C9.67612 4.14048 9.33698 4 8.98336 4C8.62974 4 8.2906 4.14048 8.04055 4.39052C7.7905 4.64057 7.65002 4.97971 7.65002 5.33333Z",fill:"currentColor"}),n("path",{d:"M7.65002 9.33333C7.65002 9.68696 7.7905 10.0261 8.04055 10.2761C8.2906 10.5262 8.62974 10.6667 8.98336 10.6667C9.33698 10.6667 9.67612 10.5262 9.92617 10.2761C10.1762 10.0261 10.3167 9.68696 10.3167 9.33333C10.3167 8.97971 10.1762 8.64057 9.92617 8.39052C9.67612 8.14048 9.33698 8 8.98336 8C8.62974 8 8.2906 8.14048 8.04055 8.39052C7.7905 8.64057 7.65002 8.97971 7.65002 9.33333Z",fill:"currentColor"}),n("path",{d:"M7.65002 13.3333C7.65002 13.5084 7.68451 13.6818 7.75152 13.8436C7.81852 14.0053 7.91674 14.1523 8.04055 14.2761C8.16436 14.4 8.31135 14.4982 8.47311 14.5652C8.63488 14.6322 8.80826 14.6667 8.98336 14.6667C9.15845 14.6667 9.33183 14.6322 9.4936 14.5652C9.65537 14.4982 9.80235 14.4 9.92617 14.2761C10.05 14.1523 10.1482 14.0053 10.2152 13.8436C10.2822 13.6818 10.3167 13.5084 10.3167 13.3333C10.3167 13.1582 10.2822 12.9849 10.2152 12.8231C10.1482 12.6613 10.05 12.5143 9.92617 12.3905C9.80235 12.2667 9.65537 12.1685 9.4936 12.1015C9.33183 12.0345 9.15845 12 8.98336 12C8.80826 12 8.63488 12.0345 8.47311 12.1015C8.31135 12.1685 8.16436 12.2667 8.04055 12.3905C7.91674 12.5143 7.81852 12.6613 7.75152 12.8231C7.68451 12.9849 7.65002 13.1582 7.65002 13.3333Z",fill:"currentColor"})),a=()=>n("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M6.00002 8.33335C6.00002 7.96516 6.2985 7.66669 6.66669 7.66669C7.03488 7.66669 7.33335 7.96516 7.33335 8.33335V10C7.33335 10.3682 7.03488 10.6667 6.66669 10.6667C6.2985 10.6667 6.00002 10.3682 6.00002 10V8.33335Z",fill:"currentColor"}),n("path",{d:"M8.66669 8.33335C8.66669 7.96516 8.96516 7.66669 9.33335 7.66669C9.70154 7.66669 10 7.96516 10 8.33335V10C10 10.3682 9.70154 10.6667 9.33335 10.6667C8.96516 10.6667 8.66669 10.3682 8.66669 10V8.33335Z",fill:"currentColor"}),n("path",{d:"M5.33335 2.33335C5.33335 1.96516 5.63183 1.66669 6.00002 1.66669L10 1.66669C10.3682 1.66669 10.6667 1.96516 10.6667 2.33335C10.6667 2.70154 10.3682 3.00002 10 3.00002H6.00002C5.63183 3.00002 5.33335 2.70154 5.33335 2.33335Z",fill:"currentColor"}),n("path",{d:"M1.66669 4.66669C1.66669 4.2985 1.96516 4.00002 2.33335 4.00002H13.6667C14.0349 4.00002 14.3334 4.2985 14.3334 4.66669C14.3334 5.03488 14.0349 5.33335 13.6667 5.33335H2.33335C1.96516 5.33335 1.66669 5.03488 1.66669 4.66669Z",fill:"currentColor"}),n("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00002 4.00002H13V12.3334C13 13.4379 12.1046 14.3334 11 14.3334H5.00002C3.89545 14.3334 3.00002 13.4379 3.00002 12.3334V4.00002ZM4.33335 5.33335V12.3334C4.33335 12.7015 4.63183 13 5.00002 13H11C11.3682 13 11.6667 12.7015 11.6667 12.3334V5.33335H4.33335Z",fill:"currentColor"})),r=()=>n("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M6.54925 13.1687L3.34453 13.7455C2.56822 13.8853 1.88737 13.2146 2.01539 12.4363L2.55232 9.17177L9.31506 2.44093C9.46374 2.29108 9.64057 2.17214 9.83546 2.09097C10.0302 2.00981 10.2391 1.96802 10.4502 1.96802C10.6614 1.96802 10.8703 2.00981 11.0651 2.09097C11.26 2.17214 11.4368 2.29108 11.5853 2.44093L13.28 4.13563C13.43 4.28425 13.5489 4.46108 13.63 4.65591C13.7112 4.85073 13.7529 5.05971 13.7529 5.27076C13.7529 5.48182 13.7112 5.69079 13.63 5.8856C13.5489 6.08043 13.43 6.25727 13.28 6.40589L6.54925 13.1687Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})),i=()=>n("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M2.99493 3.11053V13.6299C2.99493 13.8915 3.25027 14.077 3.49905 13.996L7.64258 12.6478C7.87482 12.5723 8.12504 12.5723 8.35729 12.6478L12.5008 13.996C12.7496 14.077 13.0049 13.8915 13.0049 13.6299V3.11053C13.0049 2.40885 12.4361 1.84003 11.7344 1.84003H4.26543C3.56376 1.84003 2.99493 2.40885 2.99493 3.11053Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"})),s=()=>n("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M2.99493 3.11053V13.6299C2.99493 13.8915 3.25027 14.077 3.49905 13.996L7.64258 12.6478C7.87482 12.5723 8.12504 12.5723 8.35729 12.6478L12.5008 13.996C12.7496 14.077 13.0049 13.8915 13.0049 13.6299V3.11053C13.0049 2.40885 12.4361 1.84003 11.7344 1.84003H4.26543C3.56376 1.84003 2.99493 2.40885 2.99493 3.11053Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round"}),n("path",{d:"M6 7.5L7.5 9L10 6.5",stroke:"currentColor",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}))},75970:function(e,t,l){"use strict";var n=l(29784),o=l(26314),a=l(84109),r=l(40155),i=l(55920),s=l(74313),c=n.createElement;t.Z=()=>{var e;let{t}=(0,a.$G)(),{confirmDeleteChat:l,cancelDeleteChat:n}=(0,r.Wn)(),u=(0,o.v9)(e=>e.history.isHistoryDeleteModalOpen),d=(0,o.v9)(e=>e.history.deletingChatIds),p=(0,o.v9)(e=>e.chat.chatId),m=(0,o.v9)(e=>e.history.deletingHistoryTrackParams),g=null!==(e=null==d?void 0:d.length)&&void 0!==e?e:1,f=()=>{n(d,m)};return c(i.Z,{open:u,onClickMask:f,title:t("delete_comfirm_popup",{count:g}),onClose:f,closeOnEscape:!0,size:"sm"},c("div",{className:"pb-8 text-[16px] leading-[22px] text-col_text01"},t("delete_selected_conversation_confirmation",{count:g})),c("div",{className:"flex w-full justify-end text-[14px] leading-[20px] gap-4"},c(s.Z,{variant:"gray",onClick:f},t("general_cancel")),c(s.Z,{variant:"redText",onClick:()=>{l(null!=d?d:[],p,m)}},t("delete_popup"))))}},7598:function(e,t,l){"use strict";l.d(t,{Z:function(){return f}});var n=l(29784),o=l(26314),a=l(84109),r=l(36223),i=l(18927),s=l(55920),c=l(89406),u=l(74313),d=l(79784),p=l(40155),m=l(46096),g=n.createElement,f=()=>{var e;let{t}=(0,a.$G)(),{confirmRenameChat:l,cancelRenameChat:f}=(0,p.xW)(),x=(0,o.v9)(e=>e.history.isHistoryRenameModalOpen),v=(0,o.v9)(e=>e.history.renamingChatId),{historyItem:h}=(0,p.gn)(null!=v?v:""),_=(0,o.v9)(e=>e.history.renamingHistoryTrackParams),w=(null!==(e=null==h?void 0:h.chatTitle)&&void 0!==e?e:"").slice(0,m.Gz),{0:b,1:C}=(0,n.useState)(w),{0:y,1:k}=(0,n.useState)(!1);(0,n.useEffect)(()=>{C(w)},[w]);let N=()=>{if(v){if(!b){c.Z.warning(t("history_rename_empty_toast"));return}b===w?f(v,_):l(v,b,_)}},I=()=>{f(v,_)};return g(s.Z,{open:x&&void 0!==h,onClickMask:I,title:t("rename_conversation"),onClose:I,closeOnEscape:!0,size:"md"},g(r.default,{rootClassName:"history-rename-input",count:{show:!0,max:m.Gz,strategy:e=>(0,i.OK)(e).length,exceedFormatter:(e,t)=>{let{max:l}=t;return(0,i.OK)(e).slice(0,l).join("")}},allowClear:{clearIcon:g(d.lO,null)},autoFocus:!0,defaultValue:w,onKeyDown:e=>{y||"Enter"!==e.key||N()},onChange:e=>{C(e.target.value)},onCompositionStart:()=>{k(!0)},onCompositionEnd:()=>{k(!1)},placeholder:t("history_rename_placeholder",{count:m.Gz})}),g("div",{className:"flex w-full justify-end text-[14px] leading-[20px] gap-4 mt-8"},g(u.Z,{variant:"gray",onClick:I},t("general_cancel")),g(u.Z,{disabled:!b||b===w,variant:"blue",onClick:N},t("general_confirm"))))}},87339:function(e,t,l){"use strict";l.d(t,{Z:function(){return x}});var n=l(29784),o=l(84109),a=l(68157),r=l(71629),i=l.n(r),s=l(48871),c=l(40155),u=l(96228),d=l(46096),p=l(56670),m=l(261),g=n.createElement;let f=e=>{let{title:t,icon:l,type:n}=e;return g("div",{className:i()("flex items-center text-[13px] min-w-[92px]","warning"===n?"text-col_accent01":"text-col_text00")},l,g("span",{className:"ml-[6px]"},t))};var x=e=>{let{item:t,open:l,className:r,onOpenChange:i}=e,{t:x}=(0,o.$G)(),{getPageName:v}=(0,u.Z)(),{showDeleteChatModal:h}=(0,c.Wn)(),{showRenameChatModal:_}=(0,c.xW)(),{setHistoryFavoriteStatus:w}=(0,c.v5)(),b=(null==t?void 0:t.favoriteStatus)===s.cU.FAVORITE,C=(0,n.useMemo)(()=>({page:v(),chat_id:t.chatID}),[t.chatID]),y=[b?{key:d.zI.UNFAVORITE,label:g(f,{title:x("batch_unstar"),icon:g(p.fX,null)})}:{key:d.zI.FAVORITE,label:g(f,{title:x("batch_star"),icon:g(p.vU,null)})},{key:d.zI.RENAME,label:g(f,{title:x("rename_popup"),icon:g(p.yC,null)})},{key:d.zI.DELETE,label:g(f,{title:x("delete_popup"),icon:g(p.qQ,null),type:"warning"})}];return(0,n.useEffect)(()=>{l&&(0,m.V)("context")},[l]),g(a.Z,{open:l,onOpenChange:(e,t)=>{e&&(0,m.V)(t.source),null==i||i(e)},overlayClassName:"history-item-dropdown",menu:{items:y,onClick:e=>{switch(e.domEvent.stopPropagation(),e.key){case d.zI.DELETE:h([t.chatID],C);break;case d.zI.RENAME:_(t.chatID,C);break;case d.zI.FAVORITE:w([t.chatID],s.cU.FAVORITE);break;case d.zI.UNFAVORITE:w([t.chatID],s.cU.UNFAVORITE)}(0,m.m)(e.key,C)}},trigger:["click"]},g("div",{className:"cursor-pointer rounded w-5 h-5 text-col_bg02 ".concat(r," p-[1px]"),onClick:e=>e.stopPropagation()},g(p.nb,null)))}},261:function(e,t,l){"use strict";l.d(t,{V:function(){return s},m:function(){return c}});var n=l(20712),o=l(22947),a=l(36594);function r(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,n)}return l}function i(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?r(Object(l),!0).forEach(function(t){(0,n.Z)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}let s=(e,t)=>{(0,a.I)(i({id:"history_item_menu_open",open_trigger:e},t))},c=(e,t)=>{(0,a.I)(i({id:"chat_operate_click",[o.R.OPERATE_TYPE]:e},t))}},459:function(e,t,l){"use strict";l.d(t,{Z:function(){return h}});var n=l(29784),o=l(84109),a=l(54311),r=l(86787),i=l(82661),s=l(69301),c=l(61531),u=n.createElement,d=e=>{let{open:t,onClose:l,imgMaskUrlList:a,currentImgIndex:r,isLongMoreThanWide:i,setCurrentImgIndex:d,onClickDownLoadImg:p}=e,{t:m}=(0,o.$G)(),g=a[r],f=a.length;return u(s.zd,{destroyOnClose:!0,visible:t,onMaskClick:l,className:"share-img-mask"},u("div",{className:"relative h-[var(--screen)] w-full p-[16px] md:px-[100px]  md:py-[20px]",id:"mask",onClick:e=>{document.getElementById("mask")===e.target&&l()}},u("div",{className:"absolute right-10 top-10 flex justify-end md:cursor-pointer",onClick:l},u(c.pS,null)),u("div",{className:"absolute left-[50%] top-[50%] flex h-[70%] w-[70%] items-center ".concat(i?"max-w-[600px]":"max-h-[600px]"),style:{transform:"translate(-50%, -50%)"}},t&&u("img",{src:g,draggable:"false",alt:"hailuo-img-viewer",id:"mask-img-content",className:"h-[100%] w-[100%]  ".concat(i?"max-w-[600px]":"max-h-[600px]"," overflow-hidden  rounded-[12px] object-contain"),onClick:l})),f>1&&u(n.Fragment,null,u("div",{className:"absolute left-4 top-[50%] h-11 translate-y-[-50%]",onClick:()=>{0!==r&&d(r-1)}},u(c.vO,null)),u("div",{className:"absolute right-4 top-[50%] h-11 translate-y-[-50%]",onClick:()=>{r!==f-1&&d(r+1)}},u(c.NS,null))),f>1&&u("div",{className:" absolute bottom-[128px] left-[50%] flex translate-x-[-50%] justify-center"},Array(f).fill(null).map((e,t)=>u("div",{key:t,className:"inline-block h-[6px] w-[6px] cursor-pointer rounded-[50%] ".concat(0!==t&&"ml-[6px]"," ").concat(r===t?"bg-pri_light":"bg-[#FFFFFF33]"),onClick:()=>d(t)}))),u("div",{className:"absolute bottom-[48px] left-[50%] flex translate-x-[-50%] cursor-pointer items-center rounded-[8px] bg-col_accent05 px-5 py-3 md:hover:bg-[#FFFFFF4C]",onClick:p},u(c.J7,null),u("span",{className:"ml-1 text-[14px] leading-[20px] text-col_accent04 whitespace-nowrap shadow-s1"},m("download_img")))))},p=l(6926),m=n.createElement,g=e=>{let{open:t,onClose:l,imgMaskUrlList:n,currentImgIndex:o,setCurrentImgIndex:a,onClickDownLoadImg:r}=e;return m(s.OO.Multi,{visible:t,onClose:l,images:n,defaultIndex:o,onIndexChange:e=>a(e),classNames:{mask:"mllti-img-viewer-mask",body:"mllti-img-viewer-body"},renderFooter:()=>m("div",{className:"w-full flex flex-row justify-center items-center"},m("div",{className:"w-[48px]"}),m("div",{className:"flex-1 flex flex-row justify-center items-center"},n&&n.length>1&&n.map((e,t)=>m("div",{key:t,className:"w-1.5 h-1.5 mr-1.5 last-of-type:mr-0 rounded-full ".concat(t===o?"bg-[#C3FAAF]":"bg-[rgba(255,255,255,0.20)]"," ")}))),m("div",{onClick:r,className:"mr-3 rounded-xl bg-[rgba(255,255,255,0.20)] p-2"},m(p.jY,null)))})},f=l(32608),x=n.createElement;async function v(e,t){let l=await fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"});if(200!==l.status)throw Error("status: .");!function(e,t){let l=document.createElement("a");l.download=t;let n=URL.createObjectURL(e);l.href=n,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(n)}(await l.blob(),t)}var h=function(){var e;let{t}=(0,o.$G)(),{0:l,1:s}=(0,n.useState)(!1),{0:c,1:u}=(0,n.useState)(0),{closeImagePreview:p,imgMaskUrl:m,imgMaskUrlList:h,imgMaskVisible:_,eventParams:w}=(0,i.Z)(),b=h[c];(0,n.useEffect)(()=>{if(b){let e=new Image;e.src=b,e.onload=()=>{s((null==e?void 0:e.width)>=(null==e?void 0:e.height))}}},[c]),(0,n.useEffect)(()=>{let e=h.findIndex(e=>e===m);void 0!==e&&_&&u(e)},[_]);let C=()=>{p()},y=async()=>{let e="success";try{a.Z.info(t("toast_downloading")),await v(b,t("keyboard_image")),a.Z.success(t("toast_download_success"))}catch(l){a.Z.error(t("toast_download_fail")),e="fail"}null!=w&&w.msgId&&(0,r.I)({id:"pic_download_click",msg_id:"pic_download_click",bot_id:null==w?void 0:w.botId,chat_id:null==w?void 0:w.chatId,download_type:"preview",download_status:e})};return(null===(e=f)||void 0===f||null===(e=e.env)||void 0===e?void 0:"web")==="web"?x(d,{onClose:C,open:_,imgMaskUrlList:h,currentImgIndex:c,isLongMoreThanWide:l,setCurrentImgIndex:u,onClickDownLoadImg:y}):x(g,{onClose:C,open:_,imgMaskUrlList:h,currentImgIndex:c,setCurrentImgIndex:u,onClickDownLoadImg:y})}},82661:function(e,t,l){"use strict";var n=l(26314),o=l(54393),a=l(60233),r=l(73946),i=l(36594);t.Z=()=>{let e=(0,n.I0)(),{imgMaskUrl:t,imgMaskUrlList:l,imgMaskVisible:s,eventParams:c}=(0,n.v9)(e=>e.file),u=e=>{let{url:t,urlList:l,isByText:n,eventParams:a,position:r}=e;n?o.B.callNative({methodName:"launchTextImagePreview",params:{position:r,images:l,eventParams:a}}):o.B.callNative({methodName:"launchImagePreivew",params:{imageUrl:t}})},d=t=>{e((0,a.xj)(t)),e((0,a.SH)(!0))},p=e=>{var t,l;let{url:n,urlList:o}=e;window.wx&&(null===(t=window.wx)||void 0===t||null===(l=t.previewImage)||void 0===l||l.call(t,{current:n,urls:o?null==o?void 0:o.map(e=>e.medium):[n]}))};return{closeImagePreview:()=>{e((0,a.SH)(!1)),e((0,a.gd)())},openImagePreview:e=>{r.tY?u(e):i.C0?p(e):d(e)},imgMaskUrl:t,imgMaskUrlList:l,imgMaskVisible:s,eventParams:c}}}},function(e){e.O(0,[7718,5429,4425,1777,1376,5542,5703,4436,2092,6586,2146,2577,6535,1617,3589,4311,8734,9709,6314,8665,7002,7650,6223,844,2940,2450,8017,2666,9618,9784,7805,3308,7254,9577,1744],function(){return e(e.s=12767)}),_N_E=e.O()}]);